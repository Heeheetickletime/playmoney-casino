<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Play-Money Casino — Blackjack</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: radial-gradient(circle at center, #000010, #150022);
      color: white;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    header {
      background: linear-gradient(90deg, #0044aa, #00aaff);
      padding: 1.2em;
      font-size: 1.7em;
      font-weight: bold;
      box-shadow: 0 0 20px #00aaff;
    }
    .game-container {
      margin-top: 2em;
      background: rgba(255,255,255,0.08);
      border-radius: 15px;
      display: inline-block;
      padding: 30px 50px;
      box-shadow: 0 0 25px rgba(0,0,255,0.2);
      transition: transform 0.3s ease;
    }
    .game-container:hover { transform: scale(1.02); }

    #coins {
      font-size: 1.3em;
      color: #00ffb7;
      text-shadow: 0 0 10px #00ffb7;
      font-weight: bold;
    }

    .hand {
      margin: 15px;
      font-size: 1.8em;
    }

    button {
      margin-top: 1em;
      padding: 12px 25px;
      font-size: 1.1em;
      border: none;
      border-radius: 8px;
      background-color: #ff0077;
      color: white;
      cursor: pointer;
      transition: all 0.2s;
    }

    button:hover {
      background-color: #ff3399;
      transform: scale(1.05);
    }

    .link-btn {
      background: #00aaff;
      margin-left: 10px;
    }

    .link-btn:hover { background: #33bbff; }

    #message {
      margin-top: 1em;
      font-size: 1.2em;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>🃏 Blackjack — Play-Money Casino</header>

  <main>
    <div class="game-container">
      <div id="coins">💰 Coins: 1,000</div>
      <div id="dealer" class="hand">Dealer: ❓</div>
      <div id="player" class="hand">You: ❓</div>

      <button onclick="startGame()">Deal</button>
      <button onclick="hit()" id="hitBtn" disabled>Hit</button>
      <button onclick="stand()" id="standBtn" disabled>Stand</button>
      <button class="link-btn" onclick="window.location='index.html'">🎰 Back to Slots</button>

      <p id="message"></p>
    </div>
  </main>

  <footer style="margin-top:3em;font-size:0.8em;opacity:0.8;">
    Play-money demo — no real gambling. © 2025
  </footer>

  <script>
    let coins = 1000;
    let deck, playerHand, dealerHand, gameOver;

    function createDeck() {
      const suits = ['♠', '♥', '♦', '♣'];
      const values = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];
      const deck = [];
      for (let suit of suits) {
        for (let value of values) {
          deck.push({ suit, value });
        }
      }
      return deck.sort(() => Math.random() - 0.5);
    }

    function cardValue(card) {
      if (['J', 'Q', 'K'].includes(card.value)) return 10;
      if (card.value === 'A') return 11;
      return parseInt(card.value);
    }

    function handValue(hand) {
      let value = hand.reduce((sum, c) => sum + cardValue(c), 0);
      let aces = hand.filter(c => c.value === 'A').length;
      while (value > 21 && aces > 0) {
        value -= 10;
        aces--;
      }
      return value;
    }

    function renderHands(hideDealerCard = false) {
      const dealerDisplay = dealerHand.map((c, i) =>
        hideDealerCard && i === 0 ? '🂠' : c.value + c.suit
      ).join(' ');
      const playerDisplay = playerHand.map(c => c.value + c.suit).join(' ');

      document.getElementById('dealer').textContent = `Dealer: ${dealerDisplay}`;
      document.getElementById('player').textContent = `You: ${playerDisplay} (${handValue(playerHand)})`;
    }

    function startGame() {
      if (coins < 100) {
        alert("You don't have enough coins! Refresh to restart.");
        return;
      }
      coins -= 100;
      document.getElementById('coins').textContent = `💰 Coins: ${coins.toLocaleString()}`;
      document.getElementById('message').textContent = '';

      deck = createDeck();
      playerHand = [deck.pop(), deck.pop()];
      dealerHand = [deck.pop(), deck.pop()];
      gameOver = false;

      renderHands(true);
      document.getElementById('hitBtn').disabled = false;
      document.getElementById('standBtn').disabled = false;
    }

    function hit() {
      if (gameOver) return;
      playerHand.push(deck.pop());
      renderHands(true);

      if (handValue(playerHand) > 21) {
        endGame('Bust! You lose 💸');
      }
    }

    function stand() {
      if (gameOver) return;

      while (handValue(dealerHand) < 17) {
        dealerHand.push(deck.pop());
      }

      renderHands(false);

      const playerScore = handValue(playerHand);
      const dealerScore = handValue(dealerHand);
      let message = '';

      if (dealerScore > 21 || playerScore > dealerScore) {
        coins += 200;
        message = `🎉 You win! +200 coins!`;
      } else if (playerScore === dealerScore) {
        coins += 100;
        message = `🤝 It's a tie! You get your 100 back.`;
      } else {
        message = `😢 Dealer wins!`;
      }

      endGame(message);
    }

    function endGame(msg) {
      gameOver = true;
      document.getElementById('message').textContent = msg;
      document.getElementById('coins').textContent = `💰 Coins: ${coins.toLocaleString()}`;
      document.getElementById('hitBtn').disabled = true;
      document.getElementById('standBtn').disabled = true;
    }
  </script>
</body>
</html>
